"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lastFocus;!function(e){var t=function(c,F,B){"use strict";var O,R;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};R=c.lazySizesConfig||c.lazysizesConfig||{};for(e in t){e in R||(R[e]=t[e])}}(),!F||!F.getElementsByClassName)return{init:function e(){},cfg:R,noSupport:!0};var P=F.documentElement,o=c.HTMLPictureElement,H="addEventListener",$="getAttribute",I=c[H].bind(c),U=c.setTimeout,X=c.requestAnimationFrame||U,s=c.requestIdleCallback,j=/^picture$/i,i=["load","error","lazyincluded","_lazyloaded"],a={},K=Array.prototype.forEach,G=function e(t,n){return a[n]||(a[n]=new RegExp("(\\s|^)"+n+"(\\s|$)")),a[n].test(t[$]("class")||"")&&a[n]},J=function e(t,n){G(t,n)||t.setAttribute("class",(t[$]("class")||"").trim()+" "+n)},Q=function e(t,n){var a;(a=G(t,n))&&t.setAttribute("class",(t[$]("class")||"").replace(a," "))},V=function e(t,n,a){var o=a?H:"removeEventListener";a&&e(t,n),i.forEach(function(e){t[o](e,n)})},Y=function e(t,n,a,o,i){var r=F.createEvent("Event");return a||(a={}),a.instance=O,r.initEvent(n,!o,!i),r.detail=a,t.dispatchEvent(r),r},Z=function e(t,n){var a;!o&&(a=c.picturefill||R.pf)?(n&&n.src&&!t[$]("srcset")&&t.setAttribute("srcset",n.src),a({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},ee=function e(t,n){return(getComputedStyle(t,null)||{})[n]},l=function e(t,n,a){for(a=a||t.offsetWidth;a<R.minSize&&n&&!t._lazysizesWidth;){a=n.offsetWidth,n=n.parentNode}return a},te=function(){var a,o,n=[],i=[],r=n,l=function e(){var t=r;for(r=n.length?i:n,a=!0,o=!1;t.length;){t.shift()()}a=!1},e=function e(t,n){a&&!n?t.apply(this,arguments):(r.push(t),o||(o=!0,(F.hidden?U:X)(l)))};return e._lsFlush=l,e}(),ne=function e(n,t){return t?function(){te(n)}:function(){var e=this,t=arguments;te(function(){n.apply(e,t)})}},e=function e(t){var n,a=0,o=R.throttleDelay,i=R.ricTimeout,r=function e(){n=!1,a=B.now(),t()},l=s&&i>49?function(){s(r,{timeout:i}),i!==R.ricTimeout&&(i=R.ricTimeout)}:ne(function(){U(r)},!0);return function(e){var t;(e=!0===e)&&(i=33),n||(n=!0,t=o-(B.now()-a),t<0&&(t=0),e||t<9?l():U(l,t))}},ae=function e(t){var n,a,o=99,i=function e(){n=null,t()},r=function e(){var t=B.now()-a;t<o?U(e,o-t):(s||i)(i)};return function(){a=B.now(),n||(n=U(r,o))}},t=function(){var b,v,d,y,t,h,p,g,_,E,A,S,r=/^img$/i,f=/^iframe$/i,z="onscroll"in c&&!/(gle|ing)bot/.test(navigator.userAgent),C=0,L=0,w=0,x=-1,m=function e(t){w--,(!t||w<0||!t.target)&&(w=0)},k=function e(t){return null==S&&(S="hidden"==ee(F.body,"visibility")),S||!("hidden"==ee(t.parentNode,"visibility")&&"hidden"==ee(t,"visibility"))},q=function e(t,n){var a,o=t,i=k(t);for(g-=n,A+=n,_-=n,E+=n;i&&(o=o.offsetParent)&&o!=F.body&&o!=P;){(i=(ee(o,"opacity")||1)>0)&&"visible"!=ee(o,"overflow")&&(a=o.getBoundingClientRect(),i=E>a.left&&_<a.right&&A>a.top-1&&g<a.bottom+1)}return i},n=function e(){var t,n,a,o,i,r,l,s,u,c,d,f,m=O.elements;if((y=R.loadMode)&&w<8&&(t=m.length)){for(n=0,x++;n<t;n++){if(m[n]&&!m[n]._lazyRace)if(!z||O.prematureUnveil&&O.prematureUnveil(m[n]))T(m[n]);else if((s=m[n][$]("data-expand"))&&(r=1*s)||(r=L),c||(c=!R.expand||R.expand<1?P.clientHeight>500&&P.clientWidth>500?500:370:R.expand,O._defEx=c,d=c*R.expFactor,f=R.hFac,S=null,L<d&&w<1&&x>2&&y>2&&!F.hidden?(L=d,x=0):L=y>1&&x>1&&w<6?c:C),u!==r&&(h=innerWidth+r*f,p=innerHeight+r,l=-1*r,u=r),a=m[n].getBoundingClientRect(),(A=a.bottom)>=l&&(g=a.top)<=p&&(E=a.right)>=l*f&&(_=a.left)<=h&&(A||E||_||g)&&(R.loadHidden||k(m[n]))&&(v&&w<3&&!s&&(y<3||x<4)||q(m[n],r))){if(T(m[n]),i=!0,w>9)break}else!i&&v&&!o&&w<4&&x<4&&y>2&&(b[0]||R.preloadAfterLoad)&&(b[0]||!s&&(A||E||_||g||"auto"!=m[n][$](R.sizesAttr)))&&(o=b[0]||m[n])}o&&!i&&T(o)}},a=e(n),M=function e(t){var n=t.target;if(n._lazyCache)return void delete n._lazyCache;m(t),J(n,R.loadedClass),Q(n,R.loadingClass),V(n,N),Y(n,"lazyloaded")},o=ne(M),N=function e(t){o({target:t.target})},W=function e(t,n){try{t.contentWindow.location.replace(n)}catch(e){t.src=n}},D=function e(t){var n,a=t[$](R.srcsetAttr);(n=R.customMedia[t[$]("data-media")||t[$]("media")])&&t.setAttribute("media",n),a&&t.setAttribute("srcset",a)},l=ne(function(t,e,n,a,o){var i,r,l,s,u,c;(u=Y(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(n?J(t,R.autosizesClass):t.setAttribute("sizes",a)),r=t[$](R.srcsetAttr),i=t[$](R.srcAttr),o&&(l=t.parentNode,s=l&&j.test(l.nodeName||"")),c=e.firesLoad||"src"in t&&(r||i||s),u={target:t},J(t,R.loadingClass),c&&(clearTimeout(d),d=U(m,2500),V(t,N,!0)),s&&K.call(l.getElementsByTagName("source"),D),r?t.setAttribute("srcset",r):i&&!s&&(f.test(t.nodeName)?W(t,i):t.src=i),o&&(r||s)&&Z(t,{src:i})),t._lazyRace&&delete t._lazyRace,Q(t,R.lazyClass),te(function(){var e=t.complete&&t.naturalWidth>1;c&&!e||(e&&J(t,"ls-is-cached"),M(u),t._lazyCache=!0,U(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&w--},!0)}),T=function e(t){if(!t._lazyRace){var n,a=r.test(t.nodeName),o=a&&(t[$](R.sizesAttr)||t[$]("sizes")),i="auto"==o;(!i&&v||!a||!t[$]("src")&&!t.srcset||t.complete||G(t,R.errorClass)||!G(t,R.lazyClass))&&(n=Y(t,"lazyunveilread").detail,i&&oe.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,w++,l(t,n,i,o,a))}},i=ae(function(){R.loadMode=3,a()}),s=function e(){3==R.loadMode&&(R.loadMode=2),i()},u=function e(){if(!v){if(B.now()-t<999)return void U(e,999);v=!0,R.loadMode=3,a(),I("scroll",s,!0)}};return{_:function e(){t=B.now(),O.elements=F.getElementsByClassName(R.lazyClass),b=F.getElementsByClassName(R.lazyClass+" "+R.preloadClass),I("scroll",a,!0),I("resize",a,!0),I("pageshow",function(e){if(e.persisted){var t=F.querySelectorAll("."+R.loadingClass);t.length&&t.forEach&&X(function(){t.forEach(function(e){e.complete&&T(e)})})}}),c.MutationObserver?new MutationObserver(a).observe(P,{childList:!0,subtree:!0,attributes:!0}):(P[H]("DOMNodeInserted",a,!0),P[H]("DOMAttrModified",a,!0),setInterval(a,999)),I("hashchange",a,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){F[H](e,a,!0)}),/d$|^c/.test(F.readyState)?u():(I("load",u),F[H]("DOMContentLoaded",a),U(u,2e4)),O.elements.length?(n(),te._lsFlush()):a()},checkElems:a,unveil:T,_aLSL:s}}(),oe=function(){var a,r=ne(function(e,t,n,a){var o,i,r;if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),j.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),i=0,r=o.length;i<r;i++){o[i].setAttribute("sizes",a)}n.detail.dataAttr||Z(e,n.detail)}),o=function e(t,n,a){var o,i=t.parentNode;i&&(a=l(t,i,a),o=Y(t,"lazybeforesizes",{width:a,dataAttr:!!n}),o.defaultPrevented||(a=o.detail.width)&&a!==t._lazysizesWidth&&r(t,i,o,a))},e=function e(){var t,n=a.length;if(n)for(t=0;t<n;t++){o(a[t])}},t=ae(e);return{_:function e(){a=F.getElementsByClassName(R.autosizesClass),I("resize",t)},checkElems:t,updateElem:o}}(),n=function e(){!e.i&&F.getElementsByClassName&&(e.i=!0,oe._(),t._())};return U(function(){R.init&&n()}),O={cfg:R,autoSizer:oe,loader:t,init:n,uP:Z,aC:J,rC:Q,hC:G,fire:Y,gW:l,rAF:te}}(e,e.document,Date);e.lazySizes=t,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});var modal=document.querySelector(".modal"),btnOpen=document.querySelectorAll(".btn-base--call"),btnClose=document.querySelectorAll(".btn-close"),modalElem=document.getElementById("form__tel--modal"),body=document.querySelector("body"),focusableElements=modal.querySelectorAll('*[tabindex="0"]'),firstTabStop=focusableElements[0],lastTabStop=focusableElements[focusableElements.length-1];function showModal(){lastFocus=document.activeElement,modal.classList.remove("hide"),body.style.overflow="hidden",modalElem.focus(),modal.addEventListener("keydown",function(e){9===e.keyCode&&(e.shiftKey?document.activeElement===firstTabStop&&(e.preventDefault(),lastTabStop.focus()):document.activeElement===lastTabStop&&(e.preventDefault(),firstTabStop.focus())),27===e.keyCode&&closeModal()})}function closeModal(){modal.classList.add("hide"),body.style.overflow="auto",lastFocus.focus(),document.onkeydown=null}if(btnOpen.forEach(function(e){e.addEventListener("click",showModal)}),btnClose.forEach(function(e){e.addEventListener("click",closeModal)}),modal.addEventListener("click",closeModal),document.querySelector(".modal__content").onclick=function(e){return e.stopPropagation()},"/othodov/"==window.location.pathname||"/othodov/index.html"==window.location.pathname||"/"==window.location.pathname){var form=document.querySelector("#form");form.onsubmit=function(e){e.preventDefault();var t=new FormData(form),n=new XMLHttpRequest;n.open("POST","mail.php"),n.send(t),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(form.reset(),alert("Спасибо за обращение! <br> В ближайшее время мы с вами свяжемся"))}}}var formModal=document.querySelector("#form--modal");formModal.onsubmit=function(e){e.preventDefault();var t=new FormData(formModal),n=new XMLHttpRequest;n.open("POST","mail.php"),n.send(t),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(formModal.reset(),alert("Спасибо за обращение! <br> В ближайшее время мы с вами свяжемся"))}},window.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll(".form__elem-tel"),function(e){var l;function t(e){e.keyCode&&(l=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",n=0,a=t.replace(/\D/g,""),o=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return n<o.length?o.charAt(n++)||a.charAt(n):e});-1!=(n=i.indexOf("_"))&&(n<5&&(n=3),i=i.slice(0,n));var r=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<5||47<l&&l<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})});var btnCatalog=document.querySelector(".nav__item--drop"),submenu=document.querySelector(".nav__submenu"),burger=document.querySelector(".burger"),menu=document.querySelector(".nav__list"),btnSublinks=document.querySelectorAll(".nav__btn--submenu"),btnCatLink=document.querySelector(".nav__link--drop");if(document.documentElement.clientWidth<=700&&document.querySelector(".nav__burger").removeAttribute("aria-hidden"),"/catalog.html"!=window.location.pathname||"/catalog.html"==window.location.pathname&&document.documentElement.clientWidth<=890){var showSub=function(){700<document.documentElement.clientWidth&&submenu.classList.remove("visual")},hideSub=function(){700<document.documentElement.clientWidth&&submenu.classList.add("visual")};btnCatalog.addEventListener("mouseenter",showSub,!1),btnCatalog.addEventListener("mouseleave",hideSub,!1)}burger.addEventListener("click",function(e){document.documentElement.clientWidth<=700&&(document.querySelector(".burger__icon").classList.toggle("burger__icon--active"),"false"==burger.getAttribute("aria-expanded")?burger.setAttribute("aria-expanded","true"):burger.setAttribute("aria-expanded","false"),document.querySelector(".burger__icon").classList.contains("burger__icon--active")?(menu.classList.remove("nav__list--visial"),menu.style.zIndex="10"):(menu.classList.add("nav__list--visial"),menu.style.zIndex="0"),document.querySelector(".head__wrap").classList.toggle("head__wrap--active"))}),btnSublinks.forEach(function(t){t.addEventListener("click",function(e){"false"==t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false"),t.parentNode.nextElementSibling.classList.toggle("nav__submenu2--visial"),document.querySelectorAll(".nav__link2").forEach(function(e){"-1"==e.getAttribute("tabindex")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1"),e.classList.contains("disabled")&&e.setAttribute("tabindex","-1")}),t.firstElementChild.classList.toggle("active")}),t.addEventListener("focus",function(e){document.documentElement.clientWidth<=700&&(t.parentNode.parentNode.style.background="#B7000E")}),t.addEventListener("blur",function(e){document.documentElement.clientWidth<=700&&(t.parentNode.parentNode.style.background="#ffffff")})}),btnCatLink.addEventListener("click",function(e){"false"==btnCatLink.getAttribute("aria-expanded")?btnCatLink.setAttribute("aria-expanded","true"):btnCatLink.setAttribute("aria-expanded","false"),submenu.classList.toggle("visual"),document.querySelector(".svg__drop").classList.toggle("active"),document.querySelectorAll(".nav__sublink").forEach(function(t){"-1"==t.getAttribute("tabindex")?t.setAttribute("tabindex","0"):t.setAttribute("tabindex","-1"),t.classList.contains("disabled")&&t.setAttribute("tabindex","-1"),t.addEventListener("focus",function(e){document.documentElement.clientWidth<=700&&(t.parentNode.parentNode.style.background="#B7000E")}),t.addEventListener("blur",function(e){document.documentElement.clientWidth<=700&&(t.parentNode.parentNode.style.background="#ffffff")})}),btnSublinks.forEach(function(e){"-1"==e.getAttribute("tabindex")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1"),e.parentElement.parentElement.querySelector("nav-sublink").classList.contains("disabled")&&e.setAttribute("tabindex","-1")})}),document.querySelectorAll(".nav-catalog__item-content>button").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=n.parentElement.parentElement.querySelector(".nav-catalog__submenu");t&&(t.classList.toggle("visual"),"false"==n.getAttribute("aria-expanded")?n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false"),t.classList.contains("visual")?t.querySelectorAll(".nav-catalog__sublink ").forEach(function(e){e.setAttribute("tabindex","-1")}):t.querySelectorAll(".nav-catalog__sublink ").forEach(function(e){e.setAttribute("tabindex","0")}))})});