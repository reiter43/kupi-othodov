"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t=function(u,O,R){"use strict";var T,F;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};F=u.lazySizesConfig||u.lazysizesConfig||{};for(e in t){e in F||(F[e]=t[e])}}(),!O||!O.getElementsByClassName)return{init:function e(){},cfg:F,noSupport:!0};var $=O.documentElement,a=u.HTMLPictureElement,H="addEventListener",I="getAttribute",P=u[H].bind(u),U=u.setTimeout,j=u.requestAnimationFrame||U,s=u.requestIdleCallback,K=/^picture$/i,i=["load","error","lazyincluded","_lazyloaded"],o={},X=Array.prototype.forEach,G=function e(t,n){return o[n]||(o[n]=new RegExp("(\\s|^)"+n+"(\\s|$)")),o[n].test(t[I]("class")||"")&&o[n]},J=function e(t,n){G(t,n)||t.setAttribute("class",(t[I]("class")||"").trim()+" "+n)},Q=function e(t,n){var o;(o=G(t,n))&&t.setAttribute("class",(t[I]("class")||"").replace(o," "))},V=function e(t,n,o){var a=o?H:"removeEventListener";o&&e(t,n),i.forEach(function(e){t[a](e,n)})},Y=function e(t,n,o,a,i){var r=O.createEvent("Event");return o||(o={}),o.instance=T,r.initEvent(n,!a,!i),r.detail=o,t.dispatchEvent(r),r},Z=function e(t,n){var o;!a&&(o=u.picturefill||F.pf)?(n&&n.src&&!t[I]("srcset")&&t.setAttribute("srcset",n.src),o({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},ee=function e(t,n){return(getComputedStyle(t,null)||{})[n]},l=function e(t,n,o){for(o=o||t.offsetWidth;o<F.minSize&&n&&!t._lazysizesWidth;){o=n.offsetWidth,n=n.parentNode}return o},te=function(){var o,a,n=[],i=[],r=n,l=function e(){var t=r;for(r=n.length?i:n,o=!0,a=!1;t.length;){t.shift()()}o=!1},e=function e(t,n){o&&!n?t.apply(this,arguments):(r.push(t),a||(a=!0,(O.hidden?U:j)(l)))};return e._lsFlush=l,e}(),ne=function e(n,t){return t?function(){te(n)}:function(){var e=this,t=arguments;te(function(){n.apply(e,t)})}},e=function e(t){var n,o=0,a=F.throttleDelay,i=F.ricTimeout,r=function e(){n=!1,o=R.now(),t()},l=s&&i>49?function(){s(r,{timeout:i}),i!==F.ricTimeout&&(i=F.ricTimeout)}:ne(function(){U(r)},!0);return function(e){var t;(e=!0===e)&&(i=33),n||(n=!0,t=a-(R.now()-o),t<0&&(t=0),e||t<9?l():U(l,t))}},oe=function e(t){var n,o,a=99,i=function e(){n=null,t()},r=function e(){var t=R.now()-o;t<a?U(e,a-t):(s||i)(i)};return function(){o=R.now(),n||(n=U(r,a))}},t=function(){var v,y,d,h,t,p,g,_,b,E,z,w,r=/^img$/i,f=/^iframe$/i,A="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent),C=0,L=0,S=0,x=-1,m=function e(t){S--,(!t||S<0||!t.target)&&(S=0)},q=function e(t){return null==w&&(w="hidden"==ee(O.body,"visibility")),w||!("hidden"==ee(t.parentNode,"visibility")&&"hidden"==ee(t,"visibility"))},k=function e(t,n){var o,a=t,i=q(t);for(_-=n,z+=n,b-=n,E+=n;i&&(a=a.offsetParent)&&a!=O.body&&a!=$;){(i=(ee(a,"opacity")||1)>0)&&"visible"!=ee(a,"overflow")&&(o=a.getBoundingClientRect(),i=E>o.left&&b<o.right&&z>o.top-1&&_<o.bottom+1)}return i},n=function e(){var t,n,o,a,i,r,l,s,c,u,d,f,m=T.elements;if((h=F.loadMode)&&S<8&&(t=m.length)){for(n=0,x++;n<t;n++){if(m[n]&&!m[n]._lazyRace)if(!A||T.prematureUnveil&&T.prematureUnveil(m[n]))W(m[n]);else if((s=m[n][I]("data-expand"))&&(r=1*s)||(r=L),u||(u=!F.expand||F.expand<1?$.clientHeight>500&&$.clientWidth>500?500:370:F.expand,T._defEx=u,d=u*F.expFactor,f=F.hFac,w=null,L<d&&S<1&&x>2&&h>2&&!O.hidden?(L=d,x=0):L=h>1&&x>1&&S<6?u:C),c!==r&&(p=innerWidth+r*f,g=innerHeight+r,l=-1*r,c=r),o=m[n].getBoundingClientRect(),(z=o.bottom)>=l&&(_=o.top)<=g&&(E=o.right)>=l*f&&(b=o.left)<=p&&(z||E||b||_)&&(F.loadHidden||q(m[n]))&&(y&&S<3&&!s&&(h<3||x<4)||k(m[n],r))){if(W(m[n]),i=!0,S>9)break}else!i&&y&&!a&&S<4&&x<4&&h>2&&(v[0]||F.preloadAfterLoad)&&(v[0]||!s&&(z||E||b||_||"auto"!=m[n][I](F.sizesAttr)))&&(a=v[0]||m[n])}a&&!i&&W(a)}},o=e(n),N=function e(t){var n=t.target;if(n._lazyCache)return void delete n._lazyCache;m(t),J(n,F.loadedClass),Q(n,F.loadingClass),V(n,M),Y(n,"lazyloaded")},a=ne(N),M=function e(t){a({target:t.target})},D=function e(t,n){try{t.contentWindow.location.replace(n)}catch(e){t.src=n}},B=function e(t){var n,o=t[I](F.srcsetAttr);(n=F.customMedia[t[I]("data-media")||t[I]("media")])&&t.setAttribute("media",n),o&&t.setAttribute("srcset",o)},l=ne(function(t,e,n,o,a){var i,r,l,s,c,u;(c=Y(t,"lazybeforeunveil",e)).defaultPrevented||(o&&(n?J(t,F.autosizesClass):t.setAttribute("sizes",o)),r=t[I](F.srcsetAttr),i=t[I](F.srcAttr),a&&(l=t.parentNode,s=l&&K.test(l.nodeName||"")),u=e.firesLoad||"src"in t&&(r||i||s),c={target:t},J(t,F.loadingClass),u&&(clearTimeout(d),d=U(m,2500),V(t,M,!0)),s&&X.call(l.getElementsByTagName("source"),B),r?t.setAttribute("srcset",r):i&&!s&&(f.test(t.nodeName)?D(t,i):t.src=i),a&&(r||s)&&Z(t,{src:i})),t._lazyRace&&delete t._lazyRace,Q(t,F.lazyClass),te(function(){var e=t.complete&&t.naturalWidth>1;u&&!e||(e&&J(t,"ls-is-cached"),N(c),t._lazyCache=!0,U(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&S--},!0)}),W=function e(t){if(!t._lazyRace){var n,o=r.test(t.nodeName),a=o&&(t[I](F.sizesAttr)||t[I]("sizes")),i="auto"==a;(!i&&y||!o||!t[I]("src")&&!t.srcset||t.complete||G(t,F.errorClass)||!G(t,F.lazyClass))&&(n=Y(t,"lazyunveilread").detail,i&&ae.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,S++,l(t,n,i,a,o))}},i=oe(function(){F.loadMode=3,o()}),s=function e(){3==F.loadMode&&(F.loadMode=2),i()},c=function e(){if(!y){if(R.now()-t<999)return void U(e,999);y=!0,F.loadMode=3,o(),P("scroll",s,!0)}};return{_:function e(){t=R.now(),T.elements=O.getElementsByClassName(F.lazyClass),v=O.getElementsByClassName(F.lazyClass+" "+F.preloadClass),P("scroll",o,!0),P("resize",o,!0),P("pageshow",function(e){if(e.persisted){var t=O.querySelectorAll("."+F.loadingClass);t.length&&t.forEach&&j(function(){t.forEach(function(e){e.complete&&W(e)})})}}),u.MutationObserver?new MutationObserver(o).observe($,{childList:!0,subtree:!0,attributes:!0}):($[H]("DOMNodeInserted",o,!0),$[H]("DOMAttrModified",o,!0),setInterval(o,999)),P("hashchange",o,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){O[H](e,o,!0)}),/d$|^c/.test(O.readyState)?c():(P("load",c),O[H]("DOMContentLoaded",o),U(c,2e4)),T.elements.length?(n(),te._lsFlush()):o()},checkElems:o,unveil:W,_aLSL:s}}(),ae=function(){var o,r=ne(function(e,t,n,o){var a,i,r;if(e._lazysizesWidth=o,o+="px",e.setAttribute("sizes",o),K.test(t.nodeName||""))for(a=t.getElementsByTagName("source"),i=0,r=a.length;i<r;i++){a[i].setAttribute("sizes",o)}n.detail.dataAttr||Z(e,n.detail)}),a=function e(t,n,o){var a,i=t.parentNode;i&&(o=l(t,i,o),a=Y(t,"lazybeforesizes",{width:o,dataAttr:!!n}),a.defaultPrevented||(o=a.detail.width)&&o!==t._lazysizesWidth&&r(t,i,a,o))},e=function e(){var t,n=o.length;if(n)for(t=0;t<n;t++){a(o[t])}},t=oe(e);return{_:function e(){o=O.getElementsByClassName(F.autosizesClass),P("resize",t)},checkElems:t,updateElem:a}}(),n=function e(){!e.i&&O.getElementsByClassName&&(e.i=!0,ae._(),t._())};return U(function(){F.init&&n()}),T={cfg:F,autoSizer:ae,loader:t,init:n,uP:Z,aC:J,rC:Q,hC:G,fire:Y,gW:l,rAF:te}}(e,e.document,Date);e.lazySizes=t,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{}),window.addEventListener("DOMContentLoaded",function(){function t(){r=document.activeElement,l.classList.remove("hide"),d.style.overflow="hidden",u.focus(),l.addEventListener("keydown",function(e){9===e.keyCode&&(e.shiftKey?document.activeElement===m&&v.focus():document.activeElement===v&&m.focus()),27===e.keyCode&&n()})}function n(){l.classList.add("hide"),d.style.overflow="auto",r.focus(),document.onkeydown=null}var e,o,a,i,r,l,s,c,u,d,f,m,v;e=".btn-base--call",o=".modal",a=".modal__btn-close",i="form__tel--modal",l=document.querySelector(o),s=document.querySelectorAll(e),c=document.querySelector(a),u=document.getElementById(i),d=document.querySelector("body"),f=l.querySelectorAll('*[tabindex="0"]'),m=f[0],v=f[f.length-1],s.forEach(function(e){e.addEventListener("click",t)}),c.addEventListener("click",n),l.addEventListener("click",function(e){e.target===l&&n()})}),window.addEventListener("DOMContentLoaded",function(){function e(e){var o=document.querySelector(e);o.onsubmit=function(e){e.preventDefault();var t=new FormData(o),n=new XMLHttpRequest;n.open("POST","mail.php"),n.send(t),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o.reset(),alert("Спасибо за обращение! <br> В ближайшее время мы с вами свяжемся"))}}}"/othodov/"!=window.location.pathname&&"/othodov/index.html"!=window.location.pathname&&"/"!=window.location.pathname||e("#form"),e("#form--modal"),"/news.html"!=window.location.pathname&&"/othodov/news.html"!=window.location.pathname&&"/"!=window.location.pathname||e(".anons__form"),[].forEach.call(document.querySelectorAll(".form__elem-tel"),function(e){var l;function t(e){e.keyCode&&(l=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+7 (___) ___ ____",n=0,o=t.replace(/\D/g,""),a=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return n<a.length?a.charAt(n++)||o.charAt(n):e});-1!=(n=i.indexOf("_"))&&(n<5&&(n=3),i=i.slice(0,n));var r=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<5||47<l&&l<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}),window.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".nav__item--drop"),t=document.querySelector(".nav__submenu"),n=document.querySelector(".burger"),o=document.querySelector(".burger__icon"),a=document.querySelector(".nav__list"),i=document.querySelectorAll(".nav__btn--submenu"),r=document.querySelectorAll(".nav__sublink"),l=document.querySelectorAll(".nav__link2"),s=document.querySelector(".nav__link--drop"),c=document.documentElement.clientWidth,u=window.location.pathname;function d(e){"false"==e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")}function f(e,t){"-1"==e.getAttribute("tabindex")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1"),t.classList.contains("disabled")&&e.setAttribute("tabindex","-1")}function m(t,e,n){t.addEventListener(e,function(e){c<=700&&(t.parentNode.parentNode.style.background=n)})}c<=700&&document.querySelector(".nav__burger").removeAttribute("aria-hidden"),("/catalog.html"!=u||"/catalog.html"==u&&c<=890)&&(e.addEventListener("mouseenter",function(e){700<c&&t.classList.remove("visual")}),e.addEventListener("mouseleave",function(e){700<c&&t.classList.add("visual")})),n.addEventListener("click",function(e){c<=700&&(o.classList.toggle("burger__icon--active"),d(n),o.classList.contains("burger__icon--active")?(a.classList.remove("nav__list--visial"),a.style.zIndex="10"):(a.classList.add("nav__list--visial"),a.style.zIndex="0"))}),i.forEach(function(t){t.addEventListener("click",function(e){d(t),t.parentNode.nextElementSibling.classList.toggle("nav__submenu2--visial"),t.firstElementChild.classList.toggle("active"),l.forEach(function(e){f(e,e)})}),m(t,"focus","#B7000E"),m(t,"blur","#ffffff")}),s.addEventListener("click",function(e){d(s),t.classList.toggle("visual"),document.querySelector(".svg__drop").classList.toggle("active"),r.forEach(function(e){f(e,e),m(e,"focus","#B7000E"),m(e,"blur","#ffffff")}),i.forEach(function(e){f(e,e.parentNode.parentNode.querySelector(".nav__sublink"))})}),document.querySelectorAll(".nav-catalog__item-content>button").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=n.parentNode.parentNode.querySelector(".nav-catalog__submenu");t&&(t.classList.toggle("visual"),d(n),t.querySelectorAll(".nav-catalog__sublink ").forEach(function(e){t.classList.contains("visual")?e.setAttribute("tabindex","-1"):e.setAttribute("tabindex","0")}))})})});